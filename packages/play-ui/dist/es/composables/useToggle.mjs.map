{"version":3,"file":"useToggle.mjs","sources":["../../../src/composables/useToggle.ts"],"sourcesContent":["import { type Ref, type WatchStopHandle, ref, watch } from 'vue'\r\n\r\nexport interface CloseOption {\r\n  delay?: number\r\n}\r\n\r\nexport interface ToggleHandler {\r\n  state: Ref<boolean>\r\n  open: () => any\r\n  close: (option?: CloseOption) => any\r\n  toggle: () => any\r\n  onOpen: (cb: () => any) => WatchStopHandle\r\n  onClose: (cb: () => any) => WatchStopHandle\r\n}\r\n\r\nexport function useToggle(): ToggleHandler {\r\n  const state = ref(false)\r\n  const onOpen = (cb: () => any) => watch(state, () => state.value && cb?.())\r\n  const onClose = (cb: () => any) => watch(state, () => state.value || cb?.())\r\n  const toggle = () => state.value = !state.value\r\n  const open = () => state.value = true\r\n  const close = (option?: CloseOption) => {\r\n    if (option?.delay)\r\n      setTimeout(() => state.value = false, option.delay)\r\n    else\r\n      state.value = false\r\n  }\r\n\r\n  return {\r\n    state,\r\n    toggle,\r\n    open,\r\n    close,\r\n    onOpen,\r\n    onClose,\r\n  }\r\n}\r\n"],"names":[],"mappings":";AAeO,SAAS,YAA2B;AACnC,QAAA,QAAQ,IAAI,KAAK;AACjB,QAAA,SAAS,CAAC,OAAkB,MAAM,OAAO,MAAM,MAAM,UAAS,2BAAM;AACpE,QAAA,UAAU,CAAC,OAAkB,MAAM,OAAO,MAAM,MAAM,UAAS,2BAAM;AAC3E,QAAM,SAAS,MAAM,MAAM,QAAQ,CAAC,MAAM;AACpC,QAAA,OAAO,MAAM,MAAM,QAAQ;AAC3B,QAAA,QAAQ,CAAC,WAAyB;AACtC,QAAI,iCAAQ;AACV,iBAAW,MAAM,MAAM,QAAQ,OAAO,OAAO,KAAK;AAAA;AAElD,YAAM,QAAQ;AAAA,EAAA;AAGX,SAAA;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ;"}