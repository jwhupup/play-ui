{"version":3,"file":"useStep.mjs","sources":["../../../src/composables/useStep.ts"],"sourcesContent":["import { computed } from 'vue'\r\nimport { useCount } from '.'\r\n\r\nexport const useStep = <T>(\r\n  modelValue: T[],\r\n  emit: (event: 'update:modelValue', ...args: any[]) => void,\r\n) => {\r\n  const steps = computed({\r\n    get() {\r\n      return modelValue\r\n    },\r\n    set(value) {\r\n      emit('update:modelValue', value)\r\n    },\r\n  })\r\n\r\n  const {\r\n    count: current,\r\n    add: next,\r\n    sub: prev,\r\n    update: toggle,\r\n  } = useCount({\r\n    min: 0,\r\n    max: computed(() => steps.value.length - 1),\r\n  })\r\n\r\n  const add = (step: T) => {\r\n    steps.value?.push(step)\r\n  }\r\n\r\n  const sub = (stepIndex: number) => {\r\n    steps.value?.splice(stepIndex, 1)\r\n  }\r\n\r\n  return {\r\n    steps,\r\n    current,\r\n    next,\r\n    prev,\r\n    toggle,\r\n    add,\r\n    sub,\r\n  }\r\n}\r\n"],"names":[],"mappings":";;AAGa,MAAA,UAAU,CACrB,YACA,SACG;AACH,QAAM,QAAQ,SAAS;AAAA,IACrB,MAAM;AACG,aAAA;AAAA,IACT;AAAA,IACA,IAAI,OAAO;AACT,WAAK,qBAAqB,KAAK;AAAA,IACjC;AAAA,EAAA,CACD;AAEK,QAAA;AAAA,IACJ,OAAO;AAAA,IACP,KAAK;AAAA,IACL,KAAK;AAAA,IACL,QAAQ;AAAA,MACN,SAAS;AAAA,IACX,KAAK;AAAA,IACL,KAAK,SAAS,MAAM,MAAM,MAAM,SAAS,CAAC;AAAA,EAAA,CAC3C;AAEK,QAAA,MAAM,CAAC,SAAY;;AACjB,gBAAA,UAAA,mBAAO,KAAK;AAAA,EAAI;AAGlB,QAAA,MAAM,CAAC,cAAsB;;AAC3B,gBAAA,UAAA,mBAAO,OAAO,WAAW;AAAA,EAAC;AAG3B,SAAA;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ;"}