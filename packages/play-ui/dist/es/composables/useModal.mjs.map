{"version":3,"file":"useModal.mjs","sources":["../../../src/composables/useModal.ts"],"sourcesContent":["import { ref, watch, watchEffect } from 'vue'\r\nimport { useExpose, useOutside, useToggle } from '.'\r\n\r\nexport const useModal = (\r\n  emit: (event: 'open' | 'close') => void,\r\n) => {\r\n  const modal = ref<HTMLElement>()\r\n  const toggle = useToggle()\r\n  const { isOutside } = useOutside(modal, toggle.state)\r\n\r\n  watch(toggle.state, value => emit(value ? 'open' : 'close'))\r\n  watchEffect(() => isOutside.value && (toggle.state.value = false))\r\n  useExpose(toggle)\r\n\r\n  return {\r\n    modal: Object.assign(modal, toggle),\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAGa,MAAA,WAAW,CACtB,SACG;AACH,QAAM,QAAQ;AACd,QAAM,SAAS;AACf,QAAM,EAAE,UAAU,IAAI,WAAW,OAAO,OAAO,KAAK;AAEpD,QAAM,OAAO,OAAO,CAAA,UAAS,KAAK,QAAQ,SAAS,OAAO,CAAC;AAC3D,cAAY,MAAM,UAAU,UAAU,OAAO,MAAM,QAAQ,MAAM;AACjE,YAAU,MAAM;AAET,SAAA;AAAA,IACL,OAAO,OAAO,OAAO,OAAO,MAAM;AAAA,EAAA;AAEtC;"}