{"version":3,"file":"useOutside.mjs","sources":["../../../src/composables/useOutside.ts"],"sourcesContent":["import { type Ref, ref, watchPostEffect } from 'vue'\r\nimport { runAsync } from '../utils'\r\n\r\nexport function useOutside(target: Ref<HTMLElement | undefined>, watcher: Ref<boolean>) {\r\n  const isOutside = ref(false)\r\n\r\n  const listener = (evt: MouseEvent) => {\r\n    isOutside.value = false\r\n    isOutside.value = !target.value!.contains(evt.target as HTMLElement)\r\n  }\r\n\r\n  watchPostEffect(() => {\r\n    if (watcher.value)\r\n      runAsync(() => document.addEventListener('click', listener))\r\n    else\r\n      document.removeEventListener('click', listener)\r\n  })\r\n\r\n  return {\r\n    isOutside,\r\n  }\r\n}\r\n"],"names":[],"mappings":";;AAGgB,SAAA,WAAW,QAAsC,SAAuB;AAChF,QAAA,YAAY,IAAI,KAAK;AAErB,QAAA,WAAW,CAAC,QAAoB;AACpC,cAAU,QAAQ;AAClB,cAAU,QAAQ,CAAC,OAAO,MAAO,SAAS,IAAI,MAAqB;AAAA,EAAA;AAGrE,kBAAgB,MAAM;AACpB,QAAI,QAAQ;AACV,eAAS,MAAM,SAAS,iBAAiB,SAAS,QAAQ,CAAC;AAAA;AAElD,eAAA,oBAAoB,SAAS,QAAQ;AAAA,EAAA,CACjD;AAEM,SAAA;AAAA,IACL;AAAA,EAAA;AAEJ;"}