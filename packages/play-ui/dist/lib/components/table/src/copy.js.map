{"version":3,"file":"copy.js","sources":["../../../../../src/components/table/src/copy.ts"],"sourcesContent":["import { toRaw } from 'vue'\r\nimport { config } from './table'\r\n\r\nlet cellData = ''\r\nlet columnKey = ''\r\nlet rowData = {}\r\nconst columnData: string[] = []\r\n\r\nexport const copyRow = () => {\r\n  Reflect.deleteProperty(rowData, 'children')\r\n  copy(\r\n    Object.values(rowData).filter((_, index) => index < config.value.columns.length).join(' '),\r\n  )\r\n}\r\n\r\nexport const copyColumn = () => {\r\n  columnData.length = 0\r\n  getColumnData(config.value.data)\r\n  copy(columnData.join('\\n'))\r\n\r\n  function getColumnData(data: Record<string, any>[]) {\r\n    data.forEach((row) => {\r\n      columnData.push(row[columnKey])\r\n\r\n      if (row.children)\r\n        getColumnData(row.children)\r\n    })\r\n  }\r\n}\r\n\r\nexport const copyCell = () => {\r\n  copy(cellData)\r\n}\r\n\r\nexport const handelCopy = (row: Record<string, any>, key: string, cell: any) => {\r\n  rowData = toRaw(row)\r\n  cellData = cell\r\n  columnKey = key\r\n}\r\n\r\nfunction copy(source: string) {\r\n  if (navigator && 'clipboard' in navigator) {\r\n    navigator.clipboard.writeText(source)\r\n  }\r\n  else {\r\n    const ta = document.createElement('textarea')\r\n    ta.value = source ?? ''\r\n    ta.style.position = 'absolute'\r\n    ta.style.opacity = '0'\r\n    document.body.appendChild(ta)\r\n    ta.select()\r\n    document.execCommand('copy')\r\n    ta.remove()\r\n  }\r\n}\r\n"],"names":["config","toRaw"],"mappings":";;;;AAGA,IAAI,WAAW;AACf,IAAI,YAAY;AAChB,IAAI,UAAU,CAAA;AACd,MAAM,aAAuB,CAAA;AAEtB,MAAM,UAAU,MAAM;AACnB,UAAA,eAAe,SAAS,UAAU;AAC1C;AAAA,IACE,OAAO,OAAO,OAAO,EAAE,OAAO,CAAC,GAAG,UAAU,QAAQA,aAAO,MAAM,QAAQ,MAAM,EAAE,KAAK,GAAG;AAAA,EAAA;AAE7F;AAEO,MAAM,aAAa,MAAM;AAC9B,aAAW,SAAS;AACN,gBAAAA,MAAA,OAAO,MAAM,IAAI;AAC1B,OAAA,WAAW,KAAK,IAAI,CAAC;AAE1B,WAAS,cAAc,MAA6B;AAC7C,SAAA,QAAQ,CAAC,QAAQ;AACT,iBAAA,KAAK,IAAI,SAAS,CAAC;AAE9B,UAAI,IAAI;AACN,sBAAc,IAAI,QAAQ;AAAA,IAAA,CAC7B;AAAA,EACH;AACF;AAEO,MAAM,WAAW,MAAM;AAC5B,OAAK,QAAQ;AACf;AAEO,MAAM,aAAa,CAAC,KAA0B,KAAa,SAAc;AAC9E,YAAUC,IAAAA,MAAM,GAAG;AACR,aAAA;AACC,cAAA;AACd;AAEA,SAAS,KAAK,QAAgB;AACxB,MAAA,aAAa,eAAe,WAAW;AAC/B,cAAA,UAAU,UAAU,MAAM;AAAA,EAAA,OAEjC;AACG,UAAA,KAAK,SAAS,cAAc,UAAU;AAC5C,OAAG,QAAQ,UAAU;AACrB,OAAG,MAAM,WAAW;AACpB,OAAG,MAAM,UAAU;AACV,aAAA,KAAK,YAAY,EAAE;AAC5B,OAAG,OAAO;AACV,aAAS,YAAY,MAAM;AAC3B,OAAG,OAAO;AAAA,EACZ;AACF;;;;;"}