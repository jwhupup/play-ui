{"version":3,"file":"index.js","sources":["../../../../../src/components/breadcrumb/src/index.tsx"],"sourcesContent":["import type { PropType } from 'vue'\r\nimport { defineComponent, getCurrentInstance } from 'vue'\r\nimport type { RouteLocationRaw } from 'vue-router'\r\nimport { useStep } from '../../../composables'\r\nimport Button from '../../button'\r\n\r\nexport interface BreadcrumbItem {\r\n  name: string\r\n  separator?: String\r\n  to: RouteLocationRaw\r\n  icon: string\r\n}\r\nexport default defineComponent({\r\n  name: 'Breadcrumb',\r\n  props: {\r\n    modelValue: Array as PropType<BreadcrumbItem[]>,\r\n    replace: Boolean,\r\n    separator: {\r\n      type: String,\r\n      default: '/',\r\n    },\r\n  },\r\n  emits: ['update:modelValue'],\r\n  setup(props, { emit }) {\r\n    const { steps, current, toggle } = useStep<BreadcrumbItem>(\r\n      props.modelValue!,\r\n      emit,\r\n    )\r\n    const instance = getCurrentInstance()\r\n    const router = instance?.appContext.config.globalProperties.$router\r\n\r\n    const onClick = (index: number, breadcrumb: BreadcrumbItem) => {\r\n      return () => {\r\n        toggle(index)\r\n        if (!breadcrumb.to || !router)\r\n          return\r\n        props.replace\r\n          ? router.replace(breadcrumb.to)\r\n          : router.push(breadcrumb.to)\r\n      }\r\n    }\r\n\r\n    return () => (\r\n      <>\r\n        {steps.value?.map((step, index) => (\r\n          <>\r\n            <span v-show={index !== 0}>{props.separator}</span>\r\n            <Button\r\n              size='mini'\r\n              type='link'\r\n              iconLeft={step.icon}\r\n              state={current.value === index ? 'primary' : 'info'}\r\n              onClick={onClick(index, step)}\r\n            >\r\n              {step.name}\r\n            </Button>\r\n          </>\r\n        ))}\r\n      </>\r\n    )\r\n  },\r\n})\r\n"],"names":["defineComponent","useStep","getCurrentInstance","index","_createVNode","_Fragment","_withDirectives","_vShow","Button"],"mappings":";;;;;AAIA,MAAe,aAAgBA,oCAAgB;AAAA,EAC7C,MAAM;AAAA,EACN,OAAO;AAAA,IACL,YAAY;AAAA,IACZ,SAAS;AAAA,IACT,WAAW;AAAA,MACT,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,EACF;AAAA,EACD,OAAO,CAAC,mBAAmB;AAAA,EAC3B,MAAM,OAAO;AAAA,IACX;AAAA,EACJ,GAAK;AACD,UAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,IACD,IAAGC,gBAAQ,MAAM,YAAY,IAAI;AAClC,UAAM,WAAWC,IAAAA;AACjB,UAAM,SAAS,qCAAU,WAAW,OAAO,iBAAiB;AAC5D,UAAM,UAAU,CAACC,QAAO,eAAe;AACrC,aAAO,MAAM;AACX,eAAOA,MAAK;AACZ,YAAI,CAAC,WAAW,MAAM,CAAC;AAAQ;AAC/B,cAAM,UAAU,OAAO,QAAQ,WAAW,EAAE,IAAI,OAAO,KAAK,WAAW,EAAE;AAAA,MACjF;AAAA,IACA;AACI,WAAO,MAAMC;;AAAAA,iBAAAA,YAAaC,IAAAA,UAAW,MAAM,EAAC,WAAM,UAAN,mBAAa,IAAI,CAAC,MAAMF,YAAUC,IAAY,YAACC,IAAS,UAAE,MAAM,CAACC,IAAAA,eAAgBF,IAAY,YAAC,QAAQ,MAAM,CAAC,MAAM,SAAS,CAAC,GAAG,CAAC,CAACG,IAAM,OAAEJ,YAAU,CAAC,CAAC,CAAC,GAAGC,IAAAA,YAAaI,MAAAA,UAAQ;AAAA,QACzN,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,YAAY,KAAK;AAAA,QACjB,SAAS,QAAQ,UAAUL,UAAQ,YAAY;AAAA,QAC/C,WAAW,QAAQA,SAAO,IAAI;AAAA,MACpC,GAAO;AAAA,QACD,SAAS,MAAM,CAAC,KAAK,IAAI;AAAA,MAC/B,CAAK,CAAC,CAAC,EAAE,CAAC;AAAA;AAAA,EACP;AACH,CAAC;;"}